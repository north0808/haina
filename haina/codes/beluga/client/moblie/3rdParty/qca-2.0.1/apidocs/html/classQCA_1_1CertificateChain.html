<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>Qt Cryptographic Architecture: QCA::CertificateChain Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.5 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="dirs.html"><span>Directories</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="annotated.html"><span>Class&nbsp;List</span></a></li>
      <li><a href="hierarchy.html"><span>Class&nbsp;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&nbsp;Members</span></a></li>
    </ul>
  </div>
  <div class="navpath"><a class="el" href="namespaceQCA.html">QCA</a>::<a class="el" href="classQCA_1_1CertificateChain.html">CertificateChain</a>
  </div>
</div>
<div class="contents">
<h1>QCA::CertificateChain Class Reference<br>
<small>
[<a class="el" href="group__UserAPI.html">QCA user API</a>]</small>
</h1><!-- doxytag: class="QCA::CertificateChain" --><!-- doxytag: inherits="QList" -->A chain of related Certificates.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="qca__cert_8h-source.html">QtCrypto</a>&gt;</code>
<p>
<div class="dynheader">
Inheritance diagram for QCA::CertificateChain:</div>
<div class="dynsection">

<p><center><img src="classQCA_1_1CertificateChain.png" usemap="#QCA::CertificateChain_map" border="0" alt=""></center>
<map name="QCA::CertificateChain_map">
<area doxygen="qt.tag:" href="qlist.html" alt="QList" shape="rect" coords="0,0,157,24">
</map>
</div>
<div class="dynheader">
Collaboration diagram for QCA::CertificateChain:</div>
<div class="dynsection">
<p><center><img src="classQCA_1_1CertificateChain__coll__graph.png" border="0" usemap="#QCA_1_1CertificateChain__coll__map" alt="Collaboration graph"></center>
<map name="QCA_1_1CertificateChain__coll__map">
<area shape="rect" doxygen="qt.tag:" href="qlist.html" title="QList\&lt; QCA::Certificate \&gt;" alt="" coords="5,7,176,31"></map>
<center><font size="2">[<a href="graph_legend.html">legend</a>]</font></center></div>

<p>
<a href="classQCA_1_1CertificateChain-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQCA_1_1CertificateChain.html#1b70ac166c45bf4dfd109befbd652547">CertificateChain</a> (const <a class="el" href="classQCA_1_1Certificate.html">Certificate</a> &amp;primary)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQCA_1_1CertificateChain.html#5f935e580c1ceaf7de2e0aac2ecc10cf">CertificateChain</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="classQCA_1_1CertificateChain.html">CertificateChain</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQCA_1_1CertificateChain.html#f6f0699f41e5e878f76d29a8973d4fd8">complete</a> (const <a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt; <a class="el" href="classQCA_1_1Certificate.html">Certificate</a> &gt; &amp;issuers=<a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt; <a class="el" href="classQCA_1_1Certificate.html">Certificate</a> &gt;(), <a class="el" href="namespaceQCA.html#3745615c63963142b7095b75c81a6ccd">Validity</a> *result=0) const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const <a class="el" href="classQCA_1_1Certificate.html">Certificate</a> &amp;&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQCA_1_1CertificateChain.html#d888a6fc3c0ce02efd617ddc76beebe1">primary</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="namespaceQCA.html#3745615c63963142b7095b75c81a6ccd">Validity</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classQCA_1_1CertificateChain.html#cd43c6af066590c169d5095748ddb8bf">validate</a> (const <a class="el" href="classQCA_1_1CertificateCollection.html">CertificateCollection</a> &amp;trusted, const <a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt; <a class="el" href="classQCA_1_1CRL.html">CRL</a> &gt; &amp;untrusted_crls=<a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt; <a class="el" href="classQCA_1_1CRL.html">CRL</a> &gt;(), <a class="el" href="namespaceQCA.html#116c2b42e9c0224b1f6e6666a8806da5">UsageMode</a> u=UsageAny, <a class="el" href="namespaceQCA.html#9260583faa0296e8e29d044c3e5ce552">ValidateFlags</a> vf=ValidateAll) const </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
A chain of related Certificates. 
<p>
<a class="el" href="classQCA_1_1CertificateChain.html" title="A chain of related Certificates.">CertificateChain</a> is a list (a <a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>) of certificates that are related by the signature from one to another. If <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> C signs <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> B, and <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> B signs <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> A, then C, B and A form a chain.<p>
The normal use of a <a class="el" href="classQCA_1_1CertificateChain.html" title="A chain of related Certificates.">CertificateChain</a> is from a end-user <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> (called the primary, equivalent to <a class="elRef" doxygen="qt.tag:" href="qlist.html#first">QList::first()</a>) through some intermediate Certificates to some other <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> (<a class="elRef" doxygen="qt.tag:" href="qlist.html#last">QList::last()</a>), which might be a root <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a> Authority, but does not need to be.<p>
You can build up the chain using normal <a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a> operations, such as <a class="elRef" doxygen="qt.tag:" href="qlist.html#append">QList::append()</a>.<p>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classQCA_1_1CertificateCollection.html" title="Bundle of Certificates and CRLs.">QCA::CertificateCollection</a> for an alternative way to represent a group of Certificates that do not necessarily have a chained relationship. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>

<p>
<a class="el" href="publickeyexample_8cpp-example.html#_a11">publickeyexample.cpp</a>.</dl><hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="5f935e580c1ceaf7de2e0aac2ecc10cf"></a><!-- doxytag: member="QCA::CertificateChain::CertificateChain" ref="5f935e580c1ceaf7de2e0aac2ecc10cf" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QCA::CertificateChain::CertificateChain           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create an empty certificate chain. 
<p>

<p>Referenced by <a class="el" href="qca__cert_8h-source.html#l01277">complete()</a>.</p>

</div>
</div><p>
<a class="anchor" name="1b70ac166c45bf4dfd109befbd652547"></a><!-- doxytag: member="QCA::CertificateChain::CertificateChain" ref="1b70ac166c45bf4dfd109befbd652547" args="(const Certificate &amp;primary)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QCA::CertificateChain::CertificateChain           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQCA_1_1Certificate.html">Certificate</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>primary</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Create a certificate chain, starting at the specified certificate. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>primary</em>&nbsp;</td><td>the end-user certificate that forms one end of the chain </td></tr>
  </table>
</dl>

<p>References <a class="elRef" doxygen="qt.tag:" href="qlist.html#append">QList::append()</a>.</p>

</div>
</div><p>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="f6f0699f41e5e878f76d29a8973d4fd8"></a><!-- doxytag: member="QCA::CertificateChain::complete" ref="f6f0699f41e5e878f76d29a8973d4fd8" args="(const QList&lt; Certificate &gt; &amp;issuers=QList&lt; Certificate &gt;(), Validity *result=0) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classQCA_1_1CertificateChain.html">CertificateChain</a> QCA::CertificateChain::complete           </td>
          <td>(</td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt; <a class="el" href="classQCA_1_1Certificate.html">Certificate</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>issuers</em> = <code><a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt;<a class="el" href="classQCA_1_1Certificate.html">Certificate</a>&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceQCA.html#3745615c63963142b7095b75c81a6ccd">Validity</a> *&nbsp;</td>
          <td class="paramname"> <em>result</em> = <code>0</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Complete a certificate chain for the primary certificate, using the rest of the certificates in the chain object, as well as those in <em>issuers</em>, as possible issuers in the chain. 
<p>
If there are issuers missing, then the chain might be incomplete (at the worst case, if no issuers exist for the primary certificate, then the resulting chain will consist of just the primary certificate). Use the <em>result</em> argument to find out if there was a problem during completion. A result of ValidityGood means the chain was completed successfully.<p>
The newly constructed <a class="el" href="classQCA_1_1CertificateChain.html" title="A chain of related Certificates.">CertificateChain</a> is returned.<p>
If the certificate chain is empty, then this will return an empty <a class="el" href="classQCA_1_1CertificateChain.html" title="A chain of related Certificates.">CertificateChain</a> object.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>issuers</em>&nbsp;</td><td>a pool of issuers to draw from as necessary </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>result</em>&nbsp;</td><td>the result of the completion operation</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function may block</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classQCA_1_1CertificateChain.html#cd43c6af066590c169d5095748ddb8bf" title="Check the validity of a certificate chain.">validate</a> </dd></dl>

<p>References <a class="el" href="qca__cert_8h-source.html#l01214">CertificateChain()</a>, <a class="elRef" doxygen="qt.tag:" href="qlist.html#first">QList::first()</a>, and <a class="elRef" doxygen="qt.tag:" href="qlist.html#isEmpty">QList::isEmpty()</a>.</p>

</div>
</div><p>
<a class="anchor" name="d888a6fc3c0ce02efd617ddc76beebe1"></a><!-- doxytag: member="QCA::CertificateChain::primary" ref="d888a6fc3c0ce02efd617ddc76beebe1" args="() const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const <a class="el" href="classQCA_1_1Certificate.html">Certificate</a>&amp; QCA::CertificateChain::primary           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Return the primary (end-user) <a class="el" href="classQCA_1_1Certificate.html" title="Public Key (X.509) certificate.">Certificate</a>. 
<p>

<p>References <a class="elRef" doxygen="qt.tag:" href="qlist.html#first">QList::first()</a>.</p>

</div>
</div><p>
<a class="anchor" name="cd43c6af066590c169d5095748ddb8bf"></a><!-- doxytag: member="QCA::CertificateChain::validate" ref="cd43c6af066590c169d5095748ddb8bf" args="(const CertificateCollection &amp;trusted, const QList&lt; CRL &gt; &amp;untrusted_crls=QList&lt; CRL &gt;(), UsageMode u=UsageAny, ValidateFlags vf=ValidateAll) const " -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceQCA.html#3745615c63963142b7095b75c81a6ccd">Validity</a> QCA::CertificateChain::validate           </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classQCA_1_1CertificateCollection.html">CertificateCollection</a> &amp;&nbsp;</td>
          <td class="paramname"> <em>trusted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt; <a class="el" href="classQCA_1_1CRL.html">CRL</a> &gt; &amp;&nbsp;</td>
          <td class="paramname"> <em>untrusted_crls</em> = <code><a class="elRef" doxygen="qt.tag:" href="qlist.html">QList</a>&lt;<a class="el" href="classQCA_1_1CRL.html">CRL</a>&gt;()</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceQCA.html#116c2b42e9c0224b1f6e6666a8806da5">UsageMode</a>&nbsp;</td>
          <td class="paramname"> <em>u</em> = <code>UsageAny</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="namespaceQCA.html#9260583faa0296e8e29d044c3e5ce552">ValidateFlags</a>&nbsp;</td>
          <td class="paramname"> <em>vf</em> = <code>ValidateAll</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"> const<code> [inline]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check the validity of a certificate chain. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>trusted</em>&nbsp;</td><td>a collection of trusted certificates </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>untrusted_crls</em>&nbsp;</td><td>a list of additional CRLs, not necessarily trusted </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>u</em>&nbsp;</td><td>the use required for the primary certificate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vf</em>&nbsp;</td><td>the conditions to validate</td></tr>
  </table>
</dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>This function may block</dd></dl>
<dl class="see" compact><dt><b>See also:</b></dt><dd><a class="el" href="classQCA_1_1Certificate.html#96d63408b996e5f2dd60fcf8899a21cc" title="Check the validity of a certificate.">Certificate::validate()</a> </dd></dl>

<p>References <a class="el" href="qca__cert_8h-source.html#l00503">QCA::ErrorValidityUnknown</a>, <a class="elRef" doxygen="qt.tag:" href="qlist.html#first">QList::first()</a>, and <a class="elRef" doxygen="qt.tag:" href="qlist.html#isEmpty">QList::isEmpty()</a>.</p>

</div>
</div><p>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="qca__cert_8h-source.html">qca_cert.h</a></ul>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 21 10:27:00 2008 for Qt Cryptographic Architecture by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
